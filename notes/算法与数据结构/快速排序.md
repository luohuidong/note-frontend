快速排序步骤

1. 找基准值
2. 进行分区（找出比基准值小的元素以及比基准值大的元素），将数组分为两个子数组。
3. 对这两个子数组进行快速排序

对于排序算法来说，最简单的数据就是根本不需要排序的数组：

- 空数组
- 只包含一个元素的数组

因此基线条件为数组为空或只包含一个元素。

## 实现

```ts
type CompareFunction<T> = (a: T, b: T) => number;

function quickSort<T>(array: T[], compareFn: CompareFunction<T>): T[] {
  if (array.length <= 1) {
    return array;
  }

  const pivotIndex = Math.floor(Math.random() * array.length);
  const pivot = array[pivotIndex];
  const equal: T[] = [];
  const left: T[] = [];
  const right: T[] = [];

  array.forEach((item) => {
    if (compareFn(item, pivot) < 0) {
      left.push(item);
    } else if (compareFn(item, pivot) > 0) {
      right.push(item);
    } else {
      equal.push(item);
    }
  });

  return quickSort(left, compareFn).concat(equal, quickSort(right, compareFn));
}
```
